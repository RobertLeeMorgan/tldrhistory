import{b as l,u as c,a as p,c as f,r as g,B as o,l as k,q as d}from"./index-BLXOOmP6.js";function x(){const{isAuth:t,logout:n}=l(),{postId:e,setInteractionData:a}=c(),r=p(),{mutate:s,isError:i,error:u}=f({mutationFn:k,onSuccess:()=>{d.invalidateQueries({queryKey:["posts"]})}});g.useEffect(()=>{e&&(s({id:e,token:t.token}),a(null,"like"))},[e,t.token,s,a]),i&&u.message==="jwt expired"?(n(),o("Your session has expired, please log in again."),r("/login")):i&&o.error("Failed to like article, please try again later.")}export{x as default};
