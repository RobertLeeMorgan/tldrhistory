const __vite__fileDeps=["assets/TableHeader-DZMIcRvz.js","assets/index--1AfnbEZ.js","assets/index-Cm4bJ61Z.css","assets/TableBody-D6yB1xqH.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{j as t,r as l,u as x,g as m,f as b,a as f,b as g,_ as p,c as j,d as v,L as w}from"./index--1AfnbEZ.js";function u({title:e,value:r,desc:o,format:s}){return t.jsxs("div",{className:"stat place-items-center text-sm py-4 px-0 md:px-4 md:px-6",children:[e&&t.jsx("div",{className:"stat-title text-slate-300",children:e}),t.jsx("div",{className:s||"stat-value text-slate-200 text-xl md:text-4xl",children:r}),o&&t.jsx("div",{className:"stat-desc text-slate-300",children:o})]})}function y({year:e}){const[r,o]=l.useState({population:1e4,year_start:-3e5,year_end:-200001}),{data:s}=x({queryKey:["population"],queryFn:f,throwOnError:!0}),{data:n}=x({queryKey:["popular",e],queryFn:()=>g(e),throwOnError:!0});l.useEffect(()=>{if(s&&s.population)for(let c=0;c<s.population.length;c++){const d=s.population[c];if(e>=d.year_start&&e<=d.year_end){o(d);return}}},[s,e]);const a=n&&n.length>0?n[0]["post.name"]:"",i=n&&n.length>0?n[0]["post.type"]:"",h=n&&n.length>0?n[0].likes:"";return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"stats bg-purple-800 stats-vertical border bottom-0 left:0 md:right-0 border-black h-full overflow-hidden rounded-none shadow fixed z-50 w-min ",children:[t.jsx(u,{value:m(e),desc:e>0?"Century CE":"Century BCE"}),t.jsx(u,{title:"Global Population",value:b(r.population)}),t.jsx(u,{title:"Most Popular",value:a?a.toUpperCase():"-",desc:`${i.charAt(0).toUpperCase()+i.slice(1)}, ${h} like(s)`,format:`${a.length<8?"text-xl leading-6":"text-sm leading-2"} md:text-xl md:leading-5 text-slate-300 font-semibold text-ellipsis overflow-hidden text-wrap w-40 text-center`})]})})}const k=l.lazy(()=>p(()=>import("./TableHeader-DZMIcRvz.js"),__vite__mapDeps([0,1,2]))),N=l.lazy(()=>p(()=>import("./TableBody-D6yB1xqH.js"),__vite__mapDeps([3,1,2])));function C({civil:e}){const r=l.useMemo(()=>{const s=[];for(let n=-3e3;n<=30;n++)n!==0&&s.push(n);return s},[]),o=l.useMemo(()=>[...new Set(e.civil.map(s=>s.country.continent))],[e]);return t.jsx(l.Suspense,{fallback:t.jsx(t.Fragment,{}),children:t.jsxs("table",{className:"table-fixed w-12 bg-gray-900 pb-4",children:[t.jsx(k,{centuries:r}),t.jsx(N,{centuries:r,continents:o,civil:e})]})})}function _({civil:e,year:r}){const o=l.useRef(null);return l.useEffect(()=>{const s=Math.floor(r/100)+3e3;if(o.current){const a=o.current.clientWidth-150,i=s*48-a/2;o.current.scrollLeft=i}},[r]),t.jsx("div",{className:"overflow-hidden scroll-smooth",ref:o,children:t.jsx(C,{civil:e})})}function E({widgetDisplay:e}){const{year:r}=j(),{data:o}=x({queryKey:["civil"],queryFn:v,throwOnError:!0});return t.jsx("div",{className:`${e?"translate-y-0":"translate-y-full"} fixed w-screen bottom-0 z-30 transform duration-300 ease-in-out`,children:o&&t.jsxs(t.Fragment,{children:[t.jsx(y,{year:r}),t.jsx(_,{civil:o,year:r})]})})}function L({widgetDisplay:e,handleClick:r,handleSort:o}){return t.jsxs("div",{className:"menu fixed z-40 top-28 right-0 lg:right-2 xl:top-20 xl:right-4 2xl:right-6 2xl:top-28 w-max",children:[t.jsx("div",{className:"tooltip tooltip-left","data-tip":"Create article",children:t.jsx(w,{className:"btn btn-circle btn-secondary drawer-button mb-3 border border-black btn-md xl:btn-lg border-2 hover:border-gray-300 hover:border",to:"/post",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),t.jsx("div",{className:"tooltip tooltip-left","data-tip":"Search/filter",children:t.jsx("label",{htmlFor:"my-drawer",className:"btn drawer-button z-50 btn-circle btn-md xl:btn-lg mb-3 border border-black hover:border-gray-400 hover:border",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),t.jsx("div",{className:"tooltip tooltip-left","data-tip":"Sort",children:t.jsx("button",{onClick:o,className:"btn btn-circle drawer-button btn-md mb-3 xl:btn-lg border border-black hover:border-gray-400 hover:border-1",children:t.jsxs("svg",{fill:"currentColor",height:"30px",width:"30px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490.00 490.00",children:[t.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"})," ",t.jsx("polygon",{points:"85.877,154.014 85.877,428.309 131.706,428.309 131.706,154.014 180.497,221.213 217.584,194.27 108.792,44.46 0,194.27 37.087,221.213 "})," ",t.jsx("polygon",{points:"404.13,335.988 404.13,61.691 358.301,61.691 358.301,335.99 309.503,268.787 272.416,295.73 381.216,445.54 490,295.715 452.913,268.802 "})," "]})})}),t.jsx("div",{className:"tooltip tooltip-left font-normal","data-tip":"Display widgets",children:t.jsx("button",{className:`btn btn-circle border border-black z-50 xl:btn-lg hover:border-gray-300 hover:border transform transition-transform ease-in-out ${e?"":"rotate-180"}`,onClick:()=>{r()},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})})]})}function P({handleSort:e}){const[r,o]=l.useState(!1);function s(){o(!r)}return t.jsxs(t.Fragment,{children:[t.jsx(L,{widgetDisplay:r,handleClick:s,handleSort:e}),t.jsx(E,{widgetDisplay:r})]})}export{P as default};
